
<!doctype html>
<html lang="vi">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Vòng Quay Thử Thách</title>
<style>
body{
  background:#0f1724;
  color:#fff;
  font-family:Arial, sans-serif;
  display:flex;
  justify-content:center;
  padding:20px;
}
.container{max-width:900px;width:100%;}
.wheel-wrap{position:relative;width:500px;height:500px;margin:auto;}
.wheel{
  width:100%;height:100%;
  border-radius:50%;
  transition:transform 6s cubic-bezier(.12,.8,.12,1);
  position:relative;
}
.pointer{
  position:absolute;
  top:-10px;left:50%;transform:translateX(-50%);
  width:0;height:0;
  border-left:20px solid transparent;
  border-right:20px solid transparent;
  border-bottom:35px solid #ff6b6b;
  z-index:10;
}
.controls{margin-top:20px;display:flex;gap:10px;justify-content:center;}
button{
  background:#ff6b6b;
  color:#fff;
  border:0;
  padding:10px 16px;
  border-radius:8px;
  cursor:pointer;
}
.result{
  margin-top:20px;
  padding:15px;
  background:#1a2337;
  border-radius:8px;
  text-align:center;
  font-size:18px;
  min-height:50px;
}
.label-item{
  position:absolute;
  width:160px;
  text-align:left;
  font-size:14px;
  font-weight:bold;
  color:#fff;
  pointer-events:none;
}
</style>
</head>
<body>
<div class="container">
  <h2 style="text-align:center;">Vòng Quay May Mắn – Thử Thách</h2>

  <div class="wheel-wrap">
    <div class="pointer"></div>
    <div id="wheel" class="wheel"></div>
  </div>

  <div class="controls">
    <button id="spinBtn">Quay</button>
    <button id="resetBtn">Đặt lại</button>
  </div>

  <div class="result" id="result">Kết quả sẽ hiển thị tại đây</div>
</div>

<script>
const challenges = [
"Nhảy một điệu bất kỳ trong 10 giây.",
"Đọc một câu tỏ tình siêu ngọt.",
"Làm mặt 'cute' trong 5 giây.",
"Hát một câu bất kỳ.",
"Bắt chước giọng một nhân vật hoạt hình.",
"Đổi avatar 5 phút theo ý mọi người.",
"Nhắn 'Tao nhớ mày' cho một người bất kỳ.",
"Để người kế bên chọn 1 tấm hình trong máy bạn và đăng note.",
"Giữ ánh mắt với người đối diện 15 giây.",
"Đọc 1 câu 'thả thính'.",
"Nói 3 điều bạn đang che giấu.",
"Nhắn 'cậu nhớ tớ không?' cho người nhóm chọn.",
"Kể lần gần nhất bạn rung động.",
"Cho nhóm xem 5 ảnh gần nhất của bạn.",
"Gọi cho ai đó và nói 'Cho nghe giọng chút'.",
"Khen thật lòng một người trong nhóm.",
"Để nhóm đổi tên Facebook 5 phút.",
"Nhìn vào mắt người đối diện và nói lời thật lòng nhất.",
"Tiết lộ một bí mật chưa từng nói.",
"Mở Messenger của bạn 10 giây.",
"Gửi một câu thả thính nhóm chọn.",
"Nói thật bạn đang thích ai.",
"Giả giọng người yêu gọi hỏi 'đang làm gì đó'.",
"Đăng 1 story theo ý nhóm 3 phút.",
"Mô tả nụ hôn bạn thích bằng 3 icon nhóm chọn.",
"Kể lần bạn làm chuyện ngu nhất vì thích ai đó.",
"Hôn mu bàn tay nhưng nhìn mắt người đối diện.",
"Nói 3 điều khiến bạn 'đổ'.",
"Đọc câu tin nhắn gần nhất bạn đã xoá.",
"Cho xem mục tìm kiếm gần nhất.",
"Nói điều bạn muốn xảy ra tối nay.",
"Trả lời 1 câu hỏi nhóm đặt.",
"Gửi voice 3 giây 'đang nhớ..'",
"Nói một câu 18+ tinh tế."
];

const wheel = document.getElementById("wheel");
const resultEl = document.getElementById("result");

function buildWheel(){
  const n = challenges.length;
  const colors = [];
  for(let i=0;i<n;i++){
    const hue = Math.round((i*(360/n))%360);
    colors.push(`hsl(${hue} 70% 55%) ${(i/n)*100}% ${((i+1)/n)*100}%`);
  }
  wheel.style.background = `conic-gradient(${colors.join(',')})`;

  wheel.innerHTML = "";
  const degPer = 360/n;
  for(let i=0;i<n;i++){
    const angle = degPer*i + degPer/2;
    const label = document.createElement("div");
    label.className = "label-item";
    label.innerText = challenges[i];
    label.style.left = "50%";
    label.style.top = "50%";
    label.style.transformOrigin = "0 0";
    label.style.transform = `rotate(${angle}deg) translate(140px) rotate(90deg)`;
    wheel.appendChild(label);
  }
}
buildWheel();

let spinning=false;

document.getElementById("spinBtn").onclick = ()=>{
  if(spinning) return;
  spinning = true;

  const n = challenges.length;
  const spins = Math.floor(Math.random()*6) + 6;
  const pick = Math.floor(Math.random()*n);
  const degPer = 360/n;
  const finalDeg = spins*360 + pick*degPer + degPer/2;

  wheel.style.transform = `rotate(${finalDeg}deg)`;

  setTimeout(()=>{
    resultEl.textContent = challenges[(n - Math.floor((finalDeg%360)/degPer)) % n];
    spinning=false;
  }, 6000);
};

document.getElementById("resetBtn").onclick = ()=>{
  wheel.style.transition = "transform .5s ease";
  wheel.style.transform = "rotate(0deg)";
  resultEl.textContent = "Kết quả sẽ hiển thị tại đây";
  setTimeout(()=>wheel.style.transition="",600);
};
</script>
</body>
</html>
